---

location: sav
location_nice: Rotherstra√üe 16, 10245 Berlin
latitude: 52.504016671
longitude: 13.449078798
altitude: 89
contact_nickname: 'Jammingblub'
contacts:
  - 'kolto@protonmail.com'

# ROUTER: 10.31.174.240/28
# --MGMT: 10.31.174.240/30
# --MESH: 10.31.174.244/30
# --DHCP: 10.31.174.248/30

ipv6_prefix: 2001:bf7:830:ae00::/56

hosts:
  - hostname: sav-core
    role: corerouter
    model: "mikrotik_routerboard-750gr3"
    ports:
      # wan has untagged mesh_emma vlan
      # lan2 has untagged dhcp vlan
      # lan3 has untagged uplink vlan
      mesh_emma: wan lan2:t lan3:t lan4:t lan5:t
      dhcp: wan:t lan2 lan3:t lan4:t lan5:t
      uplink: wan:t lan2:t lan3 lan4:t lan5:t
      mgmt: wan:t lan2:t lan3:t lan4:t lan5:t # default, try to omit it

snmp_devices:
  - hostname: sav-emma
    address: 10.31.174.242
    snmp_profile: af60

networks:
  - vid: 10
    role: mesh
    name: mesh_emma
    prefix: 10.31.174.244/32
    ipv6_subprefix: -10

  - vid: 40
    role: dhcp
    inbound_filtering: true
    enforce_client_isolation: true
    prefix: 10.31.174.248/30
    ipv6_subprefix: -40
    assignments:
      sav-core: 1

  - vid: 42
    role: mgmt
    prefix: 10.31.174.240/30
    ipv6_subprefix: 0
    gateway: 1
    dns: 1
    assignments:
      sav-core: 1
      sav-emma: 2

  - vid: 50
    role: uplink

  - role: tunnel
    ifname: ts_wg0
    mtu: 1280
    prefix: 10.31.174.245/32
    wireguard_port: 51820

  - role: tunnel
    ifname: ts_wg1
    mtu: 1280
    prefix: 10.31.174.246/32
    wireguard_port: 51821
